---
import BaseLayout from '../layouts/BaseLayout.astro';
import CalcoCard from '../components/CalcoCard.astro';
import { getCollection } from 'astro:content';

const calcos = await getCollection('calcos');
const catalog = calcos.sort((a, b) => a.data.name.localeCompare(b.data.name));
const base = import.meta.env.BASE_URL || '/';
---
<BaseLayout title="Catalogo | FT Calcos" description="Catalogo de calcos personalizados listos para imprimir.">
  <section class="space-y-6 text-center">
    <p class="text-sm font-semibold uppercase tracking-[0.3em] text-accent">Nuevos disenos</p>
    <h1 class="text-4xl sm:text-5xl font-bold text-primary leading-tight">Calcos que cuentan historias</h1>
    <p class="text-lg text-slate-600 max-w-2xl mx-auto">
      Descubri calcos premium listos para pegar en cuadernos, botellas, cascos y todo lo que quieras personalizar.
      Cada diseno tiene link directo de compra y descripcion detallada.
    </p>
    <div class="flex flex-col gap-3 sm:flex-row sm:justify-center">
      <a href="#catalogo" class="rounded-full bg-primary px-6 py-3 text-white font-semibold hover:bg-slate-900">Ver catalogo</a>
      <a href={`${base}como-comprar`} class="rounded-full border border-slate-300 px-6 py-3 font-semibold hover:border-accent hover:text-accent">Como comprar</a>
    </div>
  </section>
  <section id="catalogo" class="mt-12">
    <div class="flex items-center justify-between mb-6">
      <div>
        <p class="text-sm uppercase tracking-[0.3em] text-slate-500">Catalogo</p>
        <h2 class="text-2xl font-semibold text-primary">Elegi tu proximo calco</h2>
      </div>
      <span class="text-sm text-slate-500">{catalog.length} disenos disponibles</span>
    </div>
    <div class="grid gap-6 sm:grid-cols-2 xl:grid-cols-3">
      {catalog.map((calco) => (
        <CalcoCard calco={calco} />
      ))}
    </div>
  </section>
</BaseLayout>
